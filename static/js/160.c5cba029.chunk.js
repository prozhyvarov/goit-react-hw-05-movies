"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[160],{361:function(e,t,a){a.d(t,{Z:function(){return h}});var n=a(87),r="Button_button__wiIYs",c="Button_buttonWrap__ZRtPo",s=a(184),o=function(e){var t=e.btnName,a=e.onClick;return(0,s.jsx)("div",{className:c,children:(0,s.jsx)("button",{className:r,onClick:a,type:"button",children:t})})},i="MovieList_buttonWrap__bPcX1",u="MovieList_list__yjDCC",l="MovieList_li__kXkJl",h=function(e){var t=e.location,a=e.movieList,r=e.paginationPage,c=e.totalPages,h=e.onLoadNextPage,g=e.onLoadPreviousPage,p=e.onToStartPage;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("ul",{className:u,children:a.map((function(e){var a=e.id,r=e.title;return(0,s.jsx)("li",{children:(0,s.jsx)(n.rU,{className:l,to:"/movies/".concat(a),state:t,children:r})},a)}))}),(0,s.jsxs)("div",{className:i,children:[0!==a.length&&r>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{btnName:"Start page",onClick:p}),(0,s.jsx)(o,{btnName:"Previous page",onClick:g})]}),0!==a.length&&r<c&&(0,s.jsx)(o,{btnName:"Next page",onClick:h})]})]})}},160:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var n=a(439),r=a(791),c=a(689),s=a(87),o=a(468),i="Search_searchForm__0FeD+",u="Search_input__PXR0c",l="Search_searchBtn__kEs6t",h=a(184),g=function(e){var t=e.handleSubmit,a=e.handleSearchInputChange,n=e.searchText;return(0,h.jsxs)("form",{onSubmit:t,className:i,children:[(0,h.jsx)("label",{children:(0,h.jsx)("input",{className:u,value:n,name:"search",type:"text",onChange:a,autoComplete:"off"})}),(0,h.jsx)("button",{className:l,type:"submit",children:"Search"})]})},p=a(361),d=a(686),f=a.n(d),m=function(){var e,t,a,i=(0,c.TH)(),u=(0,s.lr)(),l=(0,n.Z)(u,2),d=l[0],m=l[1],v=(0,r.useState)([]),_=(0,n.Z)(v,2),x=_[0],b=_[1],j=(0,r.useState)(null!==(e=d.get("search"))&&void 0!==e?e:""),N=(0,n.Z)(j,2),P=N[0],S=N[1],k=(0,r.useRef)(0),C=null!==(t=Number(d.get("page")))&&void 0!==t?t:0,y="";(0,r.useEffect)((function(){(0,o.V)("/search/movie",C,P).then((function(e){if(200!==e.status)throw new Error(e.statusText);k.current=e.data.total_pages,b(e.data.results)}))}),[C,P]);return y=0===x.length?"No matches":'Search "'.concat(P,'" (Page ').concat(C," of ").concat(k.current,")"),(0,h.jsxs)("div",{children:[(0,h.jsx)(g,{handleSubmit:function(e){P||f().Notify.info("The search bar cannot be empty. Please type any criteria in the search bar."),e.preventDefault(),C=1;var t=d.get("search");m({search:t.trim(),page:1}),S(t.trim())},handleSearchInputChange:function(e){var t=e.target.value;m({search:t,page:C})},searchText:null!==(a=d.get("search"))&&void 0!==a?a:""}),P&&(0,h.jsx)("h3",{children:y}),0!==x.length&&(0,h.jsx)(p.Z,{location:i,movieList:x,paginationPage:C,totalPages:k.current,onLoadNextPage:function(){m({search:P,page:C+=1})},onLoadPreviousPage:function(){m({search:P,page:C-=1})},onToStartPage:function(){C=1,m({search:P,page:1})}})]})}},468:function(e,t,a){a.d(t,{V:function(){return i}});var n=a(861),r=a(757),c=a.n(r),s=a(243),o=a(73);function i(e){return u.apply(this,arguments)}function u(){return u=(0,n.Z)(c().mark((function e(t){var a,n,r,i,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:1,n=u.length>2&&void 0!==u[2]?u[2]:"",e.prev=2,r="https://api.themoviedb.org/3"+t+"?api_key=".concat("6dfafd08c001fd3262dc3fe23504fa05"),n&&(r+="&query=".concat(n.trim())),a&&(r+="&page=".concat(a)),e.next=10,s.Z.get(r);case 10:return i=e.sent,e.abrupt("return",i);case 14:e.prev=14,e.t0=e.catch(2),o.Am.error(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[2,14]])}))),u.apply(this,arguments)}}}]);
//# sourceMappingURL=160.c5cba029.chunk.js.map